<!DOCTYPE html><html lang=en manifest=/manifest.appcache><head><meta charset=utf-8><title>Views &middot; Vanilla Documentation</title><meta name=description content=""><meta name=keywords content=""><meta name=viewport content="width=device-width"><meta name=google-site-verification content=IWfWjN_f_82e7heCa9D0SJRhIf8aZdPNKZm_ympcB54><link rel=stylesheet href=/assets/main.4f4cd87b.css><body><div id=top></div><nav class="navbar navbar-default navbar-static-top" role=navigation><div class=container><div class=navbar-header><a class=navbar-brand href="/"><img class=logo src=/assets/img/logo.9bdefa97.svg alt="Vanilla Forums" width=102 height=41> Docs</a></div><div class="collapse navbar-collapse"><div class="navbar-form navbar-left"><div class="dropdown js-search" role=search><div class=form-group><input class="form-control js-search-input" id=docs-search title="Search the documentation" placeholder=Search></div><ul class="dropdown-menu dropdown-search-results js-search-results"><li><a><span class=title></span> <span class=categories></span></a></li></ul></div></div><ul class="nav navbar-nav navbar-right"><li><a href=http://vanillaforums.com>Cloud Hosted Community</a></li><li><a href=http://vanillaforums.org>Open Source Community</a></li></ul></div></div></nav><div class=container><ol class=breadcrumb><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/" itemprop=url><span itemprop=title>Home</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/developers/" itemprop=url><span itemprop=title>Developers</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/developers/framework/" itemprop=url><span itemprop=title>Framework</span></a></li><li class=active itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span itemprop=title>Views</span></li></ol><div class=row><div class=col-sm-3><nav class="docs-nav js-docs-nav" role=navigation><ul class="nav nav-stacked"><li><a href="/addons/">Addons</a><ul class="nav nav-stacked"><li><a href="/addons/badges/">Badges</a><ul class="nav nav-stacked"><li><a href="/addons/badges/adding-and-editing-badges/">Adding and Editing Badges</a></li><li><a href="/addons/badges/giving-and-requesting-badges/">Giving and Requesting Badges</a></li></ul></li><li><a href="/addons/warnings-and-notes/">Warnings &amp; Notes</a><ul class="nav nav-stacked"><li><a href="/addons/warnings-and-notes/adding-and-editing-user-notes/">Adding and Editing User Notes</a></li><li><a href="/addons/warnings-and-notes/upgrading-from-warnings/">Upgrading from Warnings</a></li><li><a href="/addons/warnings-and-notes/warning-a-user/">Warning a User</a></li></ul></li><li><a href="/addons/gigya/">Gigya Sign In</a></li><li><a href="/addons/googleplus/">Google Plus</a></li><li><a href="/addons/groups/">Groups</a><ul class="nav nav-stacked"><li><a href="/addons/groups/managing-groups/">Managing Groups</a></li></ul></li><li><a href="/addons/ideation/">Ideation</a></li><li><a href="/addons/pockets/">Pockets</a></li><li><a href="/addons/forummerge/">Forum Merge</a></li><li><a href="/addons/reactions/">Reactions</a><ul class="nav nav-stacked"><li><a href="/addons/reactions/adding-and-editing-reactions/">Adding and Editing Reactions</a></li><li><a href="/addons/reactions/curating-with-reactions/">Curating with Reactions</a></li></ul></li><li><a href="/addons/redirector/">Redirector</a></li><li><a href="/addons/reporting/">Reporting</a></li><li><a href="/addons/statistics/">Statistics</a></li><li><a href="/addons/vanilla-pop/">Vanilla Pop</a><ul class="nav nav-stacked"><li><a href="/addons/vanilla-pop/site-hub/">Vanilla Pop on the Site Hub</a></li></ul></li><li><a href="/addons/ranks/">Ranks</a><ul class="nav nav-stacked"><li><a href="/addons/ranks/adding-and-editing-ranks/">Adding and Editing Ranks</a></li><li><a href="/addons/ranks/applying-ranks-over-sso/">Applying Ranks over SSO</a></li><li><a href="/addons/ranks/using-ranks-as-incentives/">Using Ranks as Incentives</a></li><li><a href="/addons/ranks/using-ranks-to-defeat-spam-or-abuse/">Using Ranks to Defeat Spam or Abuse</a></li></ul></li></ul></li><li><a href="/api/">API</a><ul class="nav nav-stacked"><li><a href="/api/smart-id/">Smart ID</a></li><li><a href="/api/categories/">Categories</a></li><li><a href="/api/comments/">Comments</a></li><li><a href="/api/discussions/">Discussions</a></li><li><a href="/api/forum-administration/">Forum Administration</a></li><li><a href="/api/roles/">Roles</a></li><li><a href="/api/site-hub/">Site Hub</a></li><li><a href="/api/use-api-on-external-site/">API on External Sites</a></li></ul></li><li><a href="/cloud/">Cloud Services</a><ul class="nav nav-stacked"><li><a href="/cloud/integration/">Integration Services</a></li><li><a href="/cloud/logging/">Logging</a></li><li><a href="/cloud/migration/">Migration Services</a></li><li><a href="/cloud/multisite/">Multisite Features</a><ul class="nav nav-stacked"><li><a href="/cloud/multisite/sync/">Multisite Features</a></li></ul></li><li><a href="/cloud/releases/">Releases</a></li><li><a href="/cloud/repo/">Repository</a></li><li><a href="/cloud/ssl/">Setting up SSL (https)</a></li><li><a href="/cloud/staging/">Staging Site</a></li><li><a href="/cloud/support/">Support</a></li><li><a href="/cloud/theming/">Theming Services</a></li></ul></li><li class=active><a href="/developers/">Developers</a><ul class="nav nav-stacked"><li><a href="/developers/backend/">Backend</a></li><li><a href="/developers/troubleshooting/">Troubleshooting</a></li><li><a href="/developers/community/">Community</a></li><li><a href="/developers/configuration/">Configuration</a><ul class="nav nav-stacked"><li><a href="/developers/configuration/banner/">Banner Settings</a></li><li><a href="/developers/configuration/dashboard/">Dashboard</a></li><li><a href="/developers/configuration/homepage/">Homepage Settings</a></li><li><a href="/developers/configuration/message/">Messages</a></li><li><a href="/developers/configuration/using/">Using The Config</a></li></ul></li><li><a href="/developers/contributing/">Contributing</a><ul class="nav nav-stacked"><li><a href="/developers/contributing/coding-standard/">Coding Standard</a></li><li><a href="/developers/contributing/conduct/">Code of Conduct</a></li><li><a href="/developers/contributing/pull-requests/">Pull Requests</a></li></ul></li><li><a href="/developers/data-privacy/">Data privacy</a></li><li class=active><a href="/developers/framework/">Framework</a><ul class="nav nav-stacked"><li><a href="/developers/framework/assets/">Assets</a></li><li class=active><a href="/developers/framework/views/">Views</a></li><li><a href="/developers/framework/database/">Database access</a></li><li><a href="/developers/framework/datasets/">Datasets</a></li><li><a href="/developers/framework/email/">Email</a></li><li><a href="/developers/framework/helpers/">Helpers</a></li><li><a href="/developers/framework/controllers/">Controllers &amp; URLs</a></li><li><a href="/developers/framework/inform/">Inform Messages</a></li><li><a href="/developers/framework/models/">Models, Forms, &amp; Validation</a></li><li><a href="/developers/framework/modules/">Modules</a></li><li><a href="/developers/framework/permissions/">Permissions</a></li><li><a href="/developers/framework/requests/">Requests</a></li><li><a href="/developers/framework/i18n/">Internationalization &amp; Localization</a></li></ul></li><li><a href="/developers/changelog/">Changelog</a></li><li><a href="/developers/installation/">Installation</a></li><li><a href="/developers/locales/">Locales</a></li><li><a href="/developers/plugins/">Plugins</a><ul class="nav nav-stacked"><li><a href="/developers/plugins/quickstart/">Plugin Quickstart</a></li></ul></li><li><a href="/developers/routes/">Routes</a></li><li><a href="/developers/tools/">Developer Tools</a></li><li><a href="/developers/importing/">Importing</a><ul class="nav nav-stacked"><li><a href="/developers/importing/build/">Building new porters</a></li><li><a href="/developers/importing/porter/">Vanilla Porter</a></li><li><a href="/developers/importing/support/">Supported platforms</a></li></ul></li></ul></li><li><a href="/features/">Features</a><ul class="nav nav-stacked"><li><a href="/features/accessibility/">Accessibility</a></li><li><a href="/features/categories/">Categories</a></li><li><a href="/features/comments/">Universal Comments</a></li><li><a href="/features/emails/">Emails</a></li><li><a href="/features/embedding/">Embedding</a><ul class="nav nav-stacked"><li><a href="/features/embedding/advanced/">Advanced Embedding</a></li></ul></li><li><a href="/features/emoji/">Emoji</a></li><li><a href="/features/notifications/">Notifications</a></li><li><a href="/features/roles-permissions/">Roles &amp; Permissions</a><ul class="nav nav-stacked"><li><a href="/features/roles-permissions/default-role-types/">Default Role Types</a></li></ul></li><li><a href="/features/sso/">Single Sign-On (SSO)</a><ul class="nav nav-stacked"><li><a href="/features/sso/jsconnect/">SSO with jsConnect</a><ul class="nav nav-stacked"><li><a href="/features/sso/jsconnect/embed/">Embedded</a></li><li><a href="/features/sso/jsconnect/overview/">Technical Overview</a></li><li><a href="/features/sso/jsconnect/seamless/">Seamless Setup</a></li></ul></li><li><a href="/features/sso/oauth/">SSO with OAuth</a></li><li><a href="/features/sso/saml/">SSO with SAML</a></li></ul></li><li><a href="/features/wordpress/">WordPress Integration</a><ul class="nav nav-stacked"><li><a href="/features/wordpress/using-comments/">Using Comments</a></li><li><a href="/features/wordpress/wishlist/">WishList Integration</a></li></ul></li></ul></li><li><a href="/theming/">Theming</a><ul class="nav nav-stacked"><li><a href="/theming/css/">Theming CSS</a></li><li><a href="/theming/hooks/">Theming Hooks</a></li><li><a href="/theming/quickstart/">Theming Quickstart</a></li><li><a href="/theming/smarty/">Smarty</a><ul class="nav nav-stacked"><li><a href="/theming/smarty/conditionals/">Smarty Conditionals</a></li><li><a href="/theming/smarty/functions/">Smarty Functions</a><ul class="nav nav-stacked"><li><a href="/theming/smarty/functions/asset/">{asset}</a></li><li><a href="/theming/smarty/functions/text/">{text}</a></li><li><a href="/theming/smarty/functions/custom-menu/">{custom_menu}</a></li><li><a href="/theming/smarty/functions/event/">{event}</a></li><li><a href="/theming/smarty/functions/i18n/">{t}</a></li><li><a href="/theming/smarty/functions/include-file/">{include_file}</a></li><li><a href="/theming/smarty/functions/link/">{link}</a></li><li><a href="/theming/smarty/functions/breadcrumbs/">{breadcrumbs}</a></li><li><a href="/theming/smarty/functions/mobile-logo/">{mobile_logo}</a></li><li><a href="/theming/smarty/functions/module/">{module}</a></li><li><a href="/theming/smarty/functions/page-links/">Page Links</a></li><li><a href="/theming/smarty/functions/permission/">{permission}</a></li><li><a href="/theming/smarty/functions/pocket/">{pocket}</a></li><li><a href="/theming/smarty/functions/searchbox/">{searchbox}</a></li><li><a href="/theming/smarty/functions/logo/">{logo}</a></li></ul></li><li><a href="/theming/smarty/modifiers/">Smarty Modifiers</a></li></ul></li><li><a href="/theming/themeoptions/">Theme Options</a></li><li><a href="/theming/views/">Theming Views</a></li></ul></li></ul><p class=hidden-xs><a class=text-muted href=#top>^ Back to top</a></p></nav></div><div class=col-sm-9><div class="edit-doc pull-right hidden-xs"><a class="btn btn-default btn-xs" href=https://github.com/vanilla/vanilladocs/edit/master/docs/developers/framework/views.html.md>Improve document</a></div><article class=markdown-body role=article><h2 id=views>Views</h2><p>Once a controller method is called to handle the request, how is the xhtml of the page put together? <strong>Views</strong>. There are two types of views in Garden: &quot;Views&quot; and &quot;Master Views&quot;. A view relates directly to the controller method that called it and handles rendering content related to that request. You can typically think of a view as the content for that page. For example, if a <code>Vanilla-&gt;Discussion-&gt;All()</code> method is called, the view for that method would handle rendering all of the discussions. Everything that is rendered around the discussions is handled by the Master View. The Master View allows you to create a consistent layout for the pages in the application. A single master view defines the look and feel and standard behavior for all of the pages (or a group of pages) in the application. Let&#39;s go back to the filesystem so you can get a better picture. In the following example, the request in the url would have been: <code>http://myserver.com/garden/profile/index/mark</code>. So, this means that Garden&#39;s &quot;Profile&quot; controller was requested, the &quot;index&quot; method was requested from the profile controller, and the first argument into the index method is &quot;mark&quot;. In other words, the request was: <code>$ProfileController-&gt;Index(&#39;mark&#39;);</code></p><center><img class=Border title=Views src=http://markosullivan.ca/blog/wp-content/uploads/2008/12/fs-views.gif alt=Views width=417 height="687"></center><p>Let&#39;s take a look at the profile controller&#39;s index method:</p><pre class=highlight><code class="hljs php"><span class=hljs-keyword>public</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>Index</span><span class=hljs-params>(<span class=hljs-variable>$UserReference</span> = <span class=hljs-string>''</span>)</span> </span>{
    <span class=hljs-variable>$UserModel</span> = <span class=hljs-keyword>new</span> UserModel();
    <span class=hljs-variable>$this</span>-&gt;User = <span class=hljs-variable>$UserModel</span>-&gt;GetByReference(<span class=hljs-variable>$UserReference</span>);
    <span class=hljs-variable>$this</span>-&gt;Render();
}
</code></pre><p>Simply put, the index method grabs some data that can be later used in the profile controller&#39;s &quot;index&quot; view, and then calls the <code>Render()</code> method. The Render method is defined on the base Controller class; the class from which all controllers are extended. The Render method performs the following tasks:</p><ol><li>Finds and fetches the view.</li><li>Finds and fetches the css for the view.</li><li>Finds and renders the master view.</li></ol><p>In the most simple example, the view will be as it appears in the image above: in a &quot;profile&quot; folder within the &quot;views&quot; folder, and named after the method that was called: <code>/views/profile/index.php</code>. By default, the controller will fetch that view from the context of the FetchView method of the base controller class. In plain-English: the view file is included within a method on the Controller class called &quot;FetchView&quot;. That is why I placed the user data within a <code>$this-&gt;User</code> property in my <code>$ProfileController-&gt;Index()</code> method, above; so it could be accessible from within my view file. The view file likely will contain something as simple as this:</p><h3 id=basic-information>Basic Information</h3><table><thead><tr><th>Data<th>Property<tbody><tr><td>Joined<td><code>&lt;?php echo $this-&gt;User-&gt;DateFirstVisit; ?&gt;</code><tr><td>Visits<td><code>&lt;?php echo $this-&gt;User-&gt;CountVisits; ?&gt;</code><tr><td>Last Active<td></table><p>Once the view is fetched, it is added to an asset collection. By default it is added to the &quot;Content&quot; asset collection. The rest of the page (the &quot;Frame&quot; of the page) is handled by the master view. By default, the &quot;default.master&quot; master view is used unless another master view is specified. In the image above you can see that there are a few different master views available in the Garden application: default, email, error, and setup. The css files for each of those master views are named accordingly, as well. So, the default.master view has a default.screen.css file, the error.master view has an error.screen.css file, etc. Again, in the most simple of examples, the master view is located in the &quot;view&quot; folder of the application, and the related css files are located in the &quot;design&quot; folder of that application. Here is what the default.master view looks like:</p><pre class=highlight><code class="hljs php"><span class=hljs-preprocessor>&lt;?php</span> <span class=hljs-variable>$this</span>-&gt;RenderAsset(<span class=hljs-string>'Head'</span>); <span class=hljs-variable>$BodyIdentifier</span>, <span class=hljs-keyword>array</span>(<span class=hljs-string>'class'</span> =&gt; <span class=hljs-variable>$this</span>-&gt;CssClass)); <span class=hljs-preprocessor>?&gt;</span>
</code></pre><p>As you can see, the master view handles the basic structure of a page. As I mentioned above, by default the view that is fetched by the controller is added to an asset collection called &quot;Content&quot;, and that asset collection is rendered in this master view when the <code>$this-&gt;RenderAsset(&#39;Content&#39;)</code> method is called - right there in the middle of the master view. As you can see in the master view above, there are a number of different asset collections available for application and plugin authors (Head, Menu, Content, and Foot). An application author has the ability to add as many of these as he/she desires and add to them as necessary. The idea behind these asset collections is that while the basic request can be handled and placed into the &quot;Content&quot; asset (ie. the profile information being displayed from the example above), there are still a lot of other elements a person may want on a page. Plugin authors may want to add assets to the head, menu, or foot. They may even want to add assets to the content collection. Garden itself has other UI components that get rendered in the head and menu asset collections (which will be discussed in a later preview). So, in the most basic example, the &quot;index&quot; view is requested from it&#39;s controller&#39;s view folder, the default.screen.css file is requested from the application&#39;s design folder, and the master view is requested from the root of the application&#39;s &quot;view&quot; folder. What other ways could the views and css have been retrieved? The controller uses Garden&#39;s FileSystem object to search the application for the appropriate file to handle the request. Whatever the filesystem object finds first, it will use.</p><h3 id=views-are-retrieved-with-the-following-precedence->Views are retrieved with the following precedence:</h3><ol><li><strong>An explicitly defined path to a view.</strong> ie. a plugin&#39;s custom view location</li><li><strong>Application-specific theme view.</strong> ie. <code>/path/to/garden/themes/theme_name/app_name/views/controller_name/view.php</code></li><li><strong>Garden-wide theme view.</strong> ie. <code>/path/to/garden/themes/theme_name/views/controller_name/view.php</code></li><li><strong>Application default.</strong> ie. <code>/path/to/garden/applications/app_name/views/controller_name/view.php</code></li></ol><h3 id=master-views-are-retrieved-with-the-following-precedence->Master views are retrieved with the following precedence:</h3><ol><li><strong>Application-specific theme view.</strong> ie. <code>/path/to/garden/themes/theme_name/app_name/views/default.master</code></li><li><strong>Garden-wide theme view.</strong> ie. <code>/path/to/garden/themes/theme_name/views/default.master</code></li><li><strong>Application default.</strong> ie. <code>/path/to/garden/applications/app_name/views/default.master</code></li><li><strong>Garden default.</strong> ie. <code>/path/to/garden/applications/garden/views/default.master</code></li></ol><h3 id=css-files-are-retrieved-with-the-following-precedence->CSS files are retrieved with the following precedence:</h3><ol><li><strong>Application-specific css.</strong> ie. <code>/path/to/garden/themes/theme_name/app_name/design/default.screen.css</code></li><li><strong>Garden-wide theme view.</strong> ie. <code>/path/to/garden/themes/theme_name/design/default.screen.css</code></li><li><strong>Application default.</strong> ie. <code>/path/to/garden/applications/app_name/design/default.screen.css</code></li><li><strong>Garden default.</strong> ie. <code>/path/to/garden/applications/garden/design/default.screen.css</code></li></ol><p>You might be wondering things like: can I change the view or master view that handles my request on the fly? Of course you can! Everything in Garden was written so that you have total control over what comes out on the other end. In my example above, I could change my views on the fly with something like this:</p><pre class=highlight><code class="hljs php"><span class=hljs-keyword>public</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>Index</span><span class=hljs-params>(<span class=hljs-variable>$UserReference</span> = <span class=hljs-string>''</span>)</span> </span>{
    <span class=hljs-variable>$UserModel</span> = <span class=hljs-keyword>new</span> UserModel();
    <span class=hljs-variable>$this</span>-&gt;User = <span class=hljs-variable>$UserModel</span>-&gt;GetByReference(<span class=hljs-variable>$UserReference</span>);
    <span class=hljs-variable>$this</span>-&gt;View = <span class=hljs-string>"somethingelse"</span>; <span class=hljs-comment>// Use /views/profile/somethingelse.php to handle the content</span>
    <span class=hljs-comment>// ... or ...</span>
    <span class=hljs-variable>$this</span>-&gt;View = <span class=hljs-string>"/some/other/view.php"</span>; <span class=hljs-comment>// Use some custom view to handle the content</span>
    <span class=hljs-variable>$this</span>-&gt;MasterView = <span class=hljs-string>"setup"</span>; <span class=hljs-comment>// Use the setup master view to render my contents</span>
    <span class=hljs-variable>$this</span>-&gt;Render();
}
</code></pre><p>Views are a lot to take in, and they certainly might be daunting upon first read. But I can guarantee that I have found them to be utterly simple and flexible to use. Think of the possibilities you can accomplish with views! You could create a master view that handles rendering of RSS feeds. You could port your request method to use your RSS master and render all of your contents with a custom RSS view. You could grab the email master view and send out your content to some email address(es) before rendering. You could bypass the rendering altogether and deliver json data. The possibilities are endless, and that is the real power of views.</p></article></div></div></div><footer class="footer js-footer"><div class=jumbotron><div class=container><div class=row><div class=col-sm-6><h3><a href=http://vanillaforums.com>Cloud Hosting</a></h3><p><strong>We believe that online communities should be intuitive, engaging and true to your brand.</strong> Vanilla allows you to create a customized community that rewards positive participation, automatically curates content and lets members drive moderation.</p></div><div class=col-sm-6><h3><a href=http://vanillaforums.org>Open Source</a></h3><p>Vanilla provides cloud and open source community forum software that powers discussion forums on more than 700,000 sites. Built for flexibility and integration, <strong>Vanilla is the best, most powerful community solution in the world.</strong></p></div></div></div></div><div class=footer-copyright><div class=container><p class=text-center>Copyright &copy; 2009-2016 <a href=http://vanillaforums.com>Vanilla Forums Inc.</a> All rights reserved.</p><ul class="list-inline text-center hidden-xs"><li><a href=http://docs.vanillaforums.com>Docs</a></li><li><a href=http://blog.vanillaforums.com>Blog</a></li><li><a href=http://vanillaforums.com>Cloud</a></li><li><a href=http://vanillaforums.org>Community</a></li><li><a href=https://github.com/vanilla>GitHub</a></li><li><a href=https://github.com/vanilla/vanilla/issues>Issues</a></li></ul></div></div></footer><script src=/search.8a817515.json id=search-manifest type=application/json></script><script src=/assets/main.0da2389c.js></script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-12713112-1","auto"),ga("send","pageview");</script>